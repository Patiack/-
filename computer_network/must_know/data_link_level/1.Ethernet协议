
本节主要介绍数据链路层的以太网数据帧的相关内容，主要包括数据帧的报文结构、MAC地址以及数据帧的发送和接收方式。

1、Ethernet主要使用广播信道的数据链路层，主要使用在局域网场景。
 
2、局域网的拓扑有：
  总线型
  星型
  环型
  树型
  目前企业主要采用的拓扑为星型。

3、目前数据链路层协议主要采用Ethernet以太网。
 比令牌环、FDDI和ATM简单，价格低。
 ·向网络层提供无连接服务。
 ·向网络层提供不可靠服务。

4、以太网数据帧报文结构
  以太网上使用两种标准帧格式，选择哪种格式由TCP/IP协议簇中的网络层决定（之前提过底层数据链路层是为上层网络层提供服务的，那么网络层就可以决定封装哪种数据帧格式，谁让网络层比较大呢）。
  ·前导向码（8字节）：preamble。前7字节都是10101010，最后一个字节是10101011.
  ·目的地址（6字节）：DMAC
  ·原地址（6字节）：SMAC
  ·类型字段（2字节）：type  
  ·数据字段（46-1500字节）：承载IP数据包。以太网的最大传输单元（MTU）是1500字节。
  ·循环冗余检测（4字节）：（Cyclic Redundancy Check，CRC）
 
 5、以太网的多路访问协议
  CSMA/CD。
   ①网路适配器任何时刻传输，没有时间间隙的概念
   ②当一个网路适配器侦听到有些其他的适配器正在传输，就不会传输帧，使用载波监听
   ③一旦传输中的适配器检测到另一个适配器正在传输，就终止传输，使用碰撞检测
   ④在尝试重传之前，适配器等候一段随机时间，这个时间段要比传输一帧的时间更短。
   
 6、MAC地址
  如同每一个人都有一个名字一样，每一台网络设备都用物理地址来标识自己，这个地址就是MAC地址。
  网络设备的MAC地址是全球唯一的。
  MAC地址长度为48比特，通常用十六进制表示。
  MAC地址包含两部分：
    ·前24比特是组织唯一标识符（OUI，Organizationally Unique Identifier），由IEEE统一分配给设备制造商。例如，华为的网络产品的MAC地址前24比特是0x00e0fc。
    ·后24位序列号是厂商分配给每个产品的唯一数值，由各个厂商自行分配（这里所说的产品可以是网卡或者其他需要MAC地址的设备）。
 
 7、MAC地址作用
 数据链路层基于MAC地址进行帧的传输。发送端使用接收端的MAC地址作为目的地址发送数据帧。
 
 8、数据帧的发送和接收方式
   数据帧的发送方式主要有三种：单播、组播、广播。
   ·单播
      指从单一的源端发送到单一的目的端。（类比：一个教室里一个老师和一个同学点对点交流）
      每个主机接口由一个MAC地址唯一标识，MAC地址的OUI中，第一字节第8个比特表示地址类型。对于主机MAC地址，这个比特固定为0，表示目的MAC地址为此MAC地址的帧都是发送到某个唯一的目的端。
      在一个冲突域中，所有主机都能收到源主机发送的单播帧，但是其他主机发现目的地址与本地MAC地址不一致后会丢弃收到的帧，只有真正的目的主机才会接收并处理收到的帧。
      PS：介绍下冲突域以及CSMA/CD工作原理
        共享式网络中，不同的主机同时发送数据时，就会产生信号冲突的问题，这时的共享网络就是一个冲突域，冲突与是一个一层的概念。
   ·广播
      表示帧从单一的源发送到共享以太网上的所有主机。（类比：一个教室里老师讲课，所有学生都在听课）
      广播帧的目的MAC地址为十六进制的FF:FF:FF:FF:FF:FF，（如下图所示）所有收到该广播帧的主机都要接收并处理这个帧。
      广播缺点：广播方式会产生大量流量，导致带宽利用率降低，进而影响整个网络的性能。
      广播使用场景：当需要网络中的所有主机都能接收到相同的信息并进行处理的情况下，通常会使用广播方式。
      
      PS：广播域
        广播域就是说如果站点发出一个广播信号后能接收到这个信号的范围。通常来说一个局域网就是一个广播域。广播域是一个二层的概念。
        交换机下的所有主机就是一个广播域，交换机可以隔离冲突域。
   ·组播
      组播比广播更加高效。组播转发可以理解为选择性的广播，主机侦听特定组播地址，接收并处理目的MAC地址为该组播MAC地址的帧。（类比：老师对一个组的学生进行对话）
      组播MAC地址和单播MAC地址是通过第一字节中的第8个比特区分的。组播MAC地址的第8个比特为1，而单播MAC地址的第8个比特为0。
      
